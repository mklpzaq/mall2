<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.test.mall2.address.service.AddressMapper">

	<update id="updateAddress">
		UPDATE
			address
		SET
			address_id
			
	</update>
	
	<select id="selectAddressForUpdate"
			parameterType="Integer"
			resultType="com.test.mall2.address.service.Address">
		SELECT
			address_no AS addressNo
			,member_no AS memberNo
			,address_content AS addressContent
		FROM address
		WHERE member_no = #{memberNo}
		
	</select>
	
	<select id="totalCountAddress"
			resultType="Integer">
		SELECT
			COUNT(*)
		FROM
			address
	
	</select>
	
	<!-- 마이바티스에서 세미콜론 찍으면 에러난다. -->
	<select id="selectAddressList"
			parameterType="java.util.Map"
			resultType="com.test.mall2.address.service.Address">
		SELECT
			address_no AS addressNo
			,member_no AS memberNo
			,address_content AS addressContent
		FROM address
		ORDER BY address_no DESC
		LIMIT #{beginRow}, #{pagePerRow}
	</select>
	
	<insert id="insertAddress" 
			parameterType="com.test.mall2.address.service.Address">
			INSERT
				INTO address(
					member_no 
					,address_content
				)
				VALUES (
					#{memberNo}
					,#{addressContent}
			)
	 </insert>
</mapper>

